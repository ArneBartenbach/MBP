log_type all
connection_messages true
log_timestamp true

persistence true
persistence_location /var/lib/mosquitto

listener 1883
protocol mqtt

listener 1884
protocol websockets

allow_anonymous false

auth_plugin /mosquitto/go-auth.so

# Set the log level for the auth plugin. Valid values are: debug, info, warn, error, fatal and panic. Default value is info.
auth_opt_log_level debug

auth_opt_backends jwt

auth_opt_jwt_remote true
# Enter the IP address of the authorization server here
auth_opt_jwt_host localhost
# Enter the port of the authorization server here
auth_opt_jwt_port 8080
# Enter the URL of the authorization server to check if the user/client can be authenticated as a normal user
auth_opt_jwt_getuser_uri /MBP/api/checkOauthTokenUser
# Enter the URL of the authorization server to check if the user/client can be authenticated as a superuser
auth_opt_jwt_superuser_uri /MBP/api/checkOauthTokenSuperuser
# Enter the URL of the authorization server to check if the user/client can be authenticated using an ACL
auth_opt_jwt_aclcheck_uri /MBP/api/checkOauthTokenAcl
# Set the response mode: see https://github.com/iegomez/mosquitto-go-auth#remote-mode for the different options
auth_opt_jwt_response_mode status
# Set the mode for the request to the authorization server: see https://github.com/iegomez/mosquitto-go-auth#remote-mode for the options
auth_opt_jwt_params_mode form